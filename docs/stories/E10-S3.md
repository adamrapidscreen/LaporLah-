# E10-S3: Add Loading Skeletons to All Pages

## Description
Create a loading skeleton component library with variants for all major page types (feed card, report detail, profile, notifications, admin stats). Apply these as `loading.tsx` files across the app for instant loading states using shimmer animation instead of spinners.

## Dependencies
- Stories: E1-S5 (shimmer CSS in globals.css), E3-S6 (feed), E4-S1 (report detail), E6-S4 (profile), E8-S4 (notifications), E9-S2 (admin)
- Files: `src/app/globals.css`, `src/components/ui/skeleton.tsx`

## Tasks
1. `src/components/shared/loading-skeleton.tsx`: Create skeleton variant components:
   - `FeedCardSkeleton`: Mimics report card layout (photo, title, category badge, location, status)
   - `FeedSkeleton`: 4-5 `FeedCardSkeleton` items in a list
   - `ReportDetailSkeleton`: Mimics report detail (photo, status stepper, title, map, description, user)
   - `ProfileSkeleton`: Mimics profile page (avatar, stats, report list)
   - `NotificationSkeleton`: Mimics notification list items
   - `AdminStatSkeleton`: Mimics stat card grid
2. `src/app/loading.tsx`: Export `FeedSkeleton` as default for home feed loading
3. `src/app/report/[id]/loading.tsx`: Export `ReportDetailSkeleton` as default (may already exist from E4-S1, update if needed)
4. `src/app/profile/loading.tsx`: Export `ProfileSkeleton` as default
5. `src/app/notifications/loading.tsx`: Export `NotificationSkeleton` as default
6. `src/app/admin/loading.tsx`: Export `AdminStatSkeleton` as default

## Implementation Notes

### Skeleton Component Library
```tsx
// src/components/shared/loading-skeleton.tsx
import { Skeleton } from '@/components/ui/skeleton';

export function FeedCardSkeleton() {
  return (
    <div className="rounded-lg border bg-card p-4 space-y-3">
      <Skeleton className="aspect-video w-full rounded-lg" />
      <div className="space-y-2">
        <Skeleton className="h-5 w-3/4" />
        <div className="flex gap-2">
          <Skeleton className="h-5 w-20 rounded-full" />
          <Skeleton className="h-5 w-24 rounded-full" />
        </div>
        <Skeleton className="h-4 w-1/2" />
      </div>
    </div>
  );
}

export function FeedSkeleton() {
  return (
    <div className="space-y-4 p-4">
      {Array.from({ length: 4 }).map((_, i) => (
        <FeedCardSkeleton key={i} />
      ))}
    </div>
  );
}

export function ReportDetailSkeleton() {
  return (
    <div className="space-y-4 p-4">
      <Skeleton className="aspect-video w-full rounded-lg" />
      <div className="flex gap-2">
        {Array.from({ length: 5 }).map((_, i) => (
          <Skeleton key={i} className="h-3 w-3 rounded-full" />
        ))}
      </div>
      <Skeleton className="h-8 w-3/4" />
      <Skeleton className="h-5 w-20 rounded-full" />
      <Skeleton className="h-48 w-full rounded-lg" />
      <Skeleton className="h-20 w-full" />
      <div className="flex items-center gap-3">
        <Skeleton className="h-10 w-10 rounded-full" />
        <Skeleton className="h-5 w-32" />
      </div>
    </div>
  );
}

export function ProfileSkeleton() {
  return (
    <div className="space-y-6 p-4">
      <div className="flex items-center gap-4">
        <Skeleton className="h-16 w-16 rounded-full" />
        <div className="space-y-2">
          <Skeleton className="h-6 w-40" />
          <Skeleton className="h-4 w-24" />
        </div>
      </div>
      <div className="grid grid-cols-3 gap-4">
        {Array.from({ length: 3 }).map((_, i) => (
          <Skeleton key={i} className="h-20 rounded-lg" />
        ))}
      </div>
      <div className="space-y-3">
        {Array.from({ length: 3 }).map((_, i) => (
          <FeedCardSkeleton key={i} />
        ))}
      </div>
    </div>
  );
}

export function NotificationSkeleton() {
  return (
    <div className="space-y-2 p-4">
      {Array.from({ length: 6 }).map((_, i) => (
        <div key={i} className="flex items-start gap-3 p-3 rounded-lg">
          <Skeleton className="h-8 w-8 rounded-full shrink-0" />
          <div className="flex-1 space-y-2">
            <Skeleton className="h-4 w-full" />
            <Skeleton className="h-3 w-1/3" />
          </div>
        </div>
      ))}
    </div>
  );
}

export function AdminStatSkeleton() {
  return (
    <div className="space-y-6 p-4">
      <Skeleton className="h-7 w-32" />
      <div className="grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-6">
        {Array.from({ length: 6 }).map((_, i) => (
          <div key={i} className="rounded-lg border bg-card p-4 space-y-3">
            <Skeleton className="h-4 w-20" />
            <Skeleton className="h-8 w-16" />
          </div>
        ))}
      </div>
    </div>
  );
}
```

### Loading Page Files
```tsx
// src/app/loading.tsx
import { FeedSkeleton } from '@/components/shared/loading-skeleton';
export default function Loading() { return <FeedSkeleton />; }

// src/app/report/[id]/loading.tsx
import { ReportDetailSkeleton } from '@/components/shared/loading-skeleton';
export default function Loading() { return <ReportDetailSkeleton />; }

// src/app/profile/loading.tsx
import { ProfileSkeleton } from '@/components/shared/loading-skeleton';
export default function Loading() { return <ProfileSkeleton />; }

// src/app/notifications/loading.tsx
import { NotificationSkeleton } from '@/components/shared/loading-skeleton';
export default function Loading() { return <NotificationSkeleton />; }

// src/app/admin/loading.tsx
import { AdminStatSkeleton } from '@/components/shared/loading-skeleton';
export default function Loading() { return <AdminStatSkeleton />; }
```

### Shimmer Animation (should exist in globals.css from E1-S5)
```css
/* Skeleton shimmer animation */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton {
  background: linear-gradient(90deg, hsl(var(--muted)) 25%, hsl(var(--muted-foreground) / 0.1) 50%, hsl(var(--muted)) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}
```

## Acceptance Criteria
- [ ] `FeedCardSkeleton` mimics report card layout with shimmer
- [ ] `FeedSkeleton` shows 4-5 card skeletons for the feed
- [ ] `ReportDetailSkeleton` mimics detail page layout (photo, stepper, title, map, user)
- [ ] `ProfileSkeleton` mimics profile with avatar, stats grid, and report cards
- [ ] `NotificationSkeleton` mimics notification list items
- [ ] `AdminStatSkeleton` mimics stat card grid
- [ ] `src/app/loading.tsx` uses `FeedSkeleton`
- [ ] `src/app/report/[id]/loading.tsx` uses `ReportDetailSkeleton`
- [ ] `src/app/profile/loading.tsx` uses `ProfileSkeleton`
- [ ] `src/app/notifications/loading.tsx` uses `NotificationSkeleton`
- [ ] `src/app/admin/loading.tsx` uses `AdminStatSkeleton`
- [ ] All skeletons use shimmer animation (not spinners)
- [ ] All skeleton components are named exports from a single file
- [ ] Skeleton components use shadcn `Skeleton` primitive
