# E8-S2: Build Profile Civic Card Component

## Description
Create the profile header "civic card" component and stats grid that form the top section of the user profile page. The civic card displays the user's avatar, name, join date, and streak indicator with a gradient border. The stats grid shows three key metrics (points, reports, comments) in a visually distinct layout.

## Dependencies
- Stories: E1-S5 (design tokens / Tailwind configuration)
- Files: `src/lib/utils.ts` (cn utility), `src/components/ui/card.tsx`

## Tasks
1. `src/components/profile/civic-card.tsx`: Create Server Component displaying:
   - Gradient border container (primary at 30%)
   - Avatar image (64px, ring-2 ring-primary/30) with fallback initials
   - User's full name (h1 styling)
   - Join date formatted as caption text (e.g., "Ahli sejak Jan 2025")
   - Streak display with fire emoji and accent color ("ðŸ”¥ X-week streak")
   - Stats grid sub-component
2. `src/components/profile/stats-grid.tsx`: Create Server Component showing a 3-column grid:
   - Points: font-mono text-xl font-bold text-primary, label "MATA" (points in Malay)
   - Reports count: same styling, label "LAPORAN"
   - Comments count: same styling, label "KOMEN"
   - Labels in text-xs text-muted-foreground uppercase tracking-wider
3. `src/components/gamification/streak-display.tsx`: Create component showing current streak with fire emoji, accent colored, handles zero-streak gracefully

## Implementation Notes

### Civic Card Component
```tsx
// src/components/profile/civic-card.tsx
import { Card } from '@/components/ui/card';
import { StatsGrid } from '@/components/profile/stats-grid';
import { StreakDisplay } from '@/components/gamification/streak-display';
import { cn } from '@/lib/utils';

interface CivicCardProps {
  user: {
    full_name: string;
    avatar_url: string | null;
    created_at: string;
    total_points: number;
    current_streak: number;
  };
  stats: {
    points: number;
    reportsCount: number;
    commentsCount: number;
  };
}

export function CivicCard({ user, stats }: CivicCardProps) {
  const initials = user.full_name
    .split(' ')
    .map(n => n[0])
    .join('')
    .toUpperCase()
    .slice(0, 2);

  const joinDate = new Date(user.created_at).toLocaleDateString('ms-MY', {
    month: 'short',
    year: 'numeric',
  });

  return (
    <Card className="relative overflow-hidden border-2 border-primary/30 bg-gradient-to-br from-primary/5 to-transparent">
      <div className="p-6 flex flex-col items-center gap-4">
        {/* Avatar */}
        <div className="relative h-16 w-16 rounded-full ring-2 ring-primary/30 overflow-hidden bg-muted flex items-center justify-center">
          {user.avatar_url ? (
            <img src={user.avatar_url} alt={user.full_name} className="h-full w-full object-cover" />
          ) : (
            <span className="text-lg font-semibold text-muted-foreground">{initials}</span>
          )}
        </div>

        {/* Name + join date */}
        <div className="text-center">
          <h1 className="text-xl font-bold">{user.full_name}</h1>
          <p className="text-sm text-muted-foreground">Ahli sejak {joinDate}</p>
        </div>

        {/* Streak */}
        <StreakDisplay streak={user.current_streak} />

        {/* Stats */}
        <StatsGrid {...stats} />
      </div>
    </Card>
  );
}
```

### Stats Grid Component
```tsx
// src/components/profile/stats-grid.tsx

interface StatsGridProps {
  points: number;
  reportsCount: number;
  commentsCount: number;
}

export function StatsGrid({ points, reportsCount, commentsCount }: StatsGridProps) {
  const stats = [
    { value: points, label: 'MATA' },
    { value: reportsCount, label: 'LAPORAN' },
    { value: commentsCount, label: 'KOMEN' },
  ];

  return (
    <div className="grid grid-cols-3 gap-4 w-full pt-4 border-t border-border">
      {stats.map((stat) => (
        <div key={stat.label} className="text-center">
          <p className="font-mono text-xl font-bold text-primary">{stat.value}</p>
          <p className="text-xs text-muted-foreground uppercase tracking-wider">{stat.label}</p>
        </div>
      ))}
    </div>
  );
}
```

### Streak Display Component
```tsx
// src/components/gamification/streak-display.tsx
import { cn } from '@/lib/utils';

interface StreakDisplayProps {
  streak: number;
  className?: string;
}

export function StreakDisplay({ streak, className }: StreakDisplayProps) {
  if (streak === 0) return null;

  return (
    <span className={cn('text-sm font-medium text-orange-500', className)}>
      ðŸ”¥ {streak}-week streak
    </span>
  );
}
```

### Styling Notes
- Gradient border: `border-2 border-primary/30` on the Card
- Background gradient: `bg-gradient-to-br from-primary/5 to-transparent`
- Avatar: 64px (`h-16 w-16`), `ring-2 ring-primary/30`, `rounded-full`
- Stats numbers: `font-mono text-xl font-bold text-primary`
- Stats labels: `text-xs text-muted-foreground uppercase tracking-wider`
- Streak: `text-orange-500` (accent color)

### Localization
- Join date label: "Ahli sejak" (Member since)
- Stats labels in Malay: MATA (points), LAPORAN (reports), KOMEN (comments)
- Date formatted with `ms-MY` locale

## Acceptance Criteria
- [ ] Civic card renders with gradient border (primary at 30%)
- [ ] Avatar displays at 64px with ring-2 ring-primary/30
- [ ] Fallback initials show when avatar_url is null
- [ ] User name renders as h1, join date as caption text
- [ ] Join date uses Malay locale formatting ("Ahli sejak Jan 2025")
- [ ] Streak display shows "ðŸ”¥ X-week streak" in accent color
- [ ] Streak display is hidden when streak is 0
- [ ] Stats grid shows 3 columns: MATA, LAPORAN, KOMEN
- [ ] Stats numbers use font-mono text-xl font-bold text-primary
- [ ] Stats labels use text-xs text-muted-foreground uppercase tracking-wider
- [ ] All components use named exports (per coding standards)
- [ ] No 'use client' directive (Server Components by default)
